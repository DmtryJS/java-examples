subprojects {

  apply plugin: 'java-library'

  repositories {
    mavenLocal()
    jcenter()
  }

  java {
    sourceCompatibility = JavaVersion.VERSION_11
    targetCompatibility = JavaVersion.VERSION_11
  }

  dependencies {

    compileOnly("org.projectlombok:lombok:1.18.12")
    annotationProcessor("org.projectlombok:lombok:1.18.12")

    compileOnly("com.mageddo.nativeimage:reflection-config-generator:2.3.4")
    annotationProcessor("com.mageddo.nativeimage:reflection-config-generator:2.3.4")

    testCompileOnly("org.projectlombok:lombok:1.18.12")
    testAnnotationProcessor("org.projectlombok:lombok:1.18.12")
    testImplementation("org.junit.jupiter:junit-jupiter:5.6.2")
    testImplementation("org.mockito:mockito-junit-jupiter:3.3.3")

    testImplementation("io.zonky.test:embedded-postgres:1.2.5")
    testRuntimeOnly enforcedPlatform("io.zonky.test.postgres:embedded-postgres-binaries-bom:12.2.0")
  }

  test {
    useJUnitPlatform()
    testLogging {
      events "passed", "skipped", "failed"
    }
  }


}


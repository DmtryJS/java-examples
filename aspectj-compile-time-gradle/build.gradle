plugins {
	id "java"
	id "application"
	id "io.freefair.aspectj.post-compile-weaving" version "3.1.4"
	id "com.palantir.graal" version "0.6.0"
	id "org.jetbrains.gradle.plugin.idea-ext" version "0.5"
}

repositories {
	mavenLocal()
	mavenCentral()
}

sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8

mainClassName = "com.huongdanjava.aspectj.Application"

graal {
	mainClass "com.huongdanjava.aspectj.Application"
	graalVersion("19.2.0.1")
	outputName(project.name)
	option("-Dfile.encoding=UTF-8")
	option("--no-server")
}

test {
	useJUnitPlatform()
	testLogging {
		showStandardStreams = true
		events "passed", "skipped", "failed"
	}
}

dependencies {
	compile ("org.aspectj:aspectjrt:1.9.2")
	testCompile('org.junit.jupiter:junit-jupiter:5.4.0')
}

